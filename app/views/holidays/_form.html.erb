<%= simple_form_for(holiday, url: holidays_path, local: true, html: { class: 'space-y-3 w-full' }) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="grid grid-cols-6 gap-6">
    <div class="col-span-6">
      <%= f.label :holidaytype, 'Balance', class: 'block mb-2 text-sm font-medium text-gray-900 dark:text-white' %>
      <%= f.input_field :holidaytype, required: true, placeholder: 'Public Holiday Name', class: 'input input-bordered w-full' %>
    </div>
    <div class="col-span-6">
      <input type="checkbox" id="one_day_event" class="checkbox" onchange="toggleEndHoliday()" /><span class="label-text">One Day Event</span>
    </div>
    <div class="col-span-6 sm:col-span-3">
      <%= f.label :startholiday, 'Start Date', class: 'block mb-2 text-sm font-medium text-gray-900 dark:text-white' %>
      <%= f.input_field :startholiday, as: :string, id: "holiday_date", class: 'input input-bordered w-full' %>
    </div>
    <div class="col-span-6 sm:col-span-3" id="endholiday_wrapper">
      <%= f.label :endholiday, 'End Date', class: 'block mb-2 text-sm font-medium text-gray-900 dark:text-white' %>
      <%= f.date_field :endholiday, id: "endholiday_date", class: 'input input-bordered w-full' %>
    </div>
    <div class="col-span-6 flex justify-center">
      <%= f.button :submit, 'Add Public Holiday', class: "btn hover:bg-neutral hover:text-white" %>
    </div>
  </div>
<% end %>

<script>
function toggleEndHoliday() {
  var oneDayEvent = document.getElementById('one_day_event').checked;
  var endHolidayWrapper = document.getElementById('endholiday_wrapper');
  var endHolidayDate = document.getElementById('endholiday_date');
  if (oneDayEvent) {
    endHolidayWrapper.style.display = "none";
    endHolidayDate.value = ""; // Clear the value
  } else {
    endHolidayWrapper.style.display = "block";
  }
}
</script>